<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}" />
</head>
<body>
    <div class="login-container">
        <div class="login-header">
            <img src="https://img.icons8.com/ios-filled/50/007bff/calendar.png" alt="Logo" class="login-logo"/>
            <h1 class="scheduler">Timetable Management System</h1>
        </div>
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% set filtered = messages | selectattr('0', 'in', ['danger', 'login']) | list %}
                    {% if filtered %}
                        <ul class="flashes">
                            {% set last = filtered[-1] %}
                            <li class="{{ last[0] }}">{{ last[1] }}</li>
                        </ul>
                    {% endif %}
                {% endwith %}
        <form method="POST" action="{{ url_for('login') }}" class="login-form">
            <div class="input-group">
                <span class="input-icon"><img src="https://img.icons8.com/ios-glyphs/20/cccccc/user--v1.png"/></span>
                <input type="text" id="username" name="username" placeholder="Username or Email" required />
            </div>
            <div class="input-group">
                <span class="input-icon"><img src="https://img.icons8.com/ios-glyphs/20/cccccc/lock--v1.png"/></span>
                <input type="password" id="password" name="password" placeholder="Password" required />
            </div>
            <div class="input-group">
                <span class="input-icon"><img src="https://img.icons8.com/ios-glyphs/20/cccccc/conference-call.png"/></span>
                <select id="role" name="role" required>
                    <option value="" disabled selected>Select your role</option>
                    <option value="admin">Admin</option>
                    <option value="teacher">Teacher</option>
                    <option value="student">Student</option>
                </select>
            </div>
            <button type="submit">Login</button>
        </form>
    </div>
</body>
</html>
